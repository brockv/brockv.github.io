@model IEnumerable<Homework6.Models.Person>

@{
    ViewBag.Title = "Home Page";
}
    <!-- DO NOT REMOVE THIS. Doing so will break the layout. -->
    </div>

@using (Html.BeginForm("Home"))
{
    @Html.AntiForgeryToken()

    <div class="row searchArea">

        <div class="col-12">
            <!-- Create the search bar and search button -->
            @Html.TextBox("searchString", @Request["searchString"], new
       {
           @class = "form-control",
           id = "searchBar",
           placeholder = "Search by client name...",
           type = "search"
       })
            <input id="btnSearch" class="btn btn-default submitted" type="submit" value="Search" />
        </div>
    </div>
}

<!-- Create the table to hold the search results -->

<div class="tableParent" style="max-width: 50vw;">

    <!-- Check if we should display anything and if the search bar was empty -->
    @if (@ViewBag.ShowSearchResults && @Request["searchString"] != "")
    {
        <div>
            <!-- Show the appropriate message -->
            <strong>@ViewBag.DisplayMessage</strong>
        </div>

        <!-- If the model isn't null, we have stuff to display to the user -->
        if (Model != null)
        {
            <table>
                <!-- Create a link to more details for each entry found in the search -->
                @foreach (var client in Model)
                {
                    <tr>
                        <td>
                            @Html.ActionLink(
                            @client.FullName + " (" + @client.PreferredName + ")",
                            "ViewDetails",
                            "People",
                            new { id = @client.PersonID },
                            new { @class = "btn btn-default tableChild" })
                        </td>
                    </tr>
                }
            </table>
        }
    }
</div>


